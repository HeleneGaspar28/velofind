<!-- header  -->
<div class="container my-5">
  <h1 class="h3 mb-2 text-blue">Matches</h1>
  <!-- subtitle  -->
  <p class="text-muted mb-4">
    Matches for your <strong><%= "#{@bike.brand} #{@bike.model}" %> Frame: <%= @bike.frame_number %></strong>
  </p>

  <!-- Matches list -->
  <section class="matches-section py-5 px-3 px-md-5">
    <div class="row justify-content-center">
      <% if @matches.any? %>
        <% @matches.each_with_index do |match, index| %>
          <%= render partial: "match", locals: { match: match, index: index } %>
        <% end %>
      <% else %>
        <div class="d-flex justify-content-center align-items-center">
          <p>No matches found yet ðŸ˜ž </p>
        </div>
      <% end %>
    </div>
  </section>
</div>

<!-- Payment pop-up -->
<% unless @has_paid %>
  <div class="modal fade show d-block" id="paymentModalBackdrop" tabindex="-1" style="background-color: rgba(0, 0, 0, 0.4); backdrop-filter: blur(6px);">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow rounded-4">
        <div class="modal-header border-0">
          <h5 class="modal-title">Payment details</h5>
        </div>
        <div class="modal-body">
          <p class="mb-3">Pay â‚¬6.99 to view matches for this bike.</p>
          <%= form_with url: orders_path(bike_id: @bike.id), method: :post do %>
            <%= submit_tag "Pay â‚¬6.99", class: "btn btn-primary w-100" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <!-- Disable background scroll -->
  <style>
    body {
      overflow: hidden;
    }
  </style>
<% end %>
