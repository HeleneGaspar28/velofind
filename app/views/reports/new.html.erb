<div class="container my-5">
  <!-- header -->
  <h1 class="h3 mb-2 text-blue">Police Report</h1>
  <!-- subtitle  -->
  <p class="text-muted mb-4">
  monitoring your <strong><%= @match.bike.brand %> <%= @match.bike.model %> <%= @match.bike.frame_number %>.</strong>
  </p>

  <!-- alert  -->
<div class="matches-alert alert-warning mb-4" role="alert">
  <div>
    <strong>Potential match found!</strong>
    Please confirm the info you will find below.
  </div>
</div>

<div class="container d-flex flex-column align-items-center">
<!-- Overview and Police Report -->
  <div class="tab-container d-flex justify-content-center py-1 mb-1">
    <%= link_to "Overview", new_bike_match_report_path(@bike, @match), class: "tab active" %>
    <div class="tab">Police Report</div>
  </div>


  <!-- Report -->
  <section id="search" class="search-form py-12">
    <div class="d-flex justify-content-center align-items-center py-5">
      <div class="card shadow-sm p-4 rounded-4" style="width: 100%; max-width: 600px;">
        <div class="d-flex justify-content-center mb-3">
          <div class="text-center mb-2 mt-4">
            <h4 class="fw-bold mb-2 text-blue-primary">Report information</h4>
            <p class="text-muted mb-0">Please make sure that all the datas are correct and submit.</p>
          </div>
        </div>
        <div class="d-flex justify-content-center mb-3">
          <%= simple_form_for @report, url: bike_match_reports_path(@match.bike, @match), html: { multipart: true } do |f| %>
            <%= f.hidden_field :match_id, value: @match.id %>

            <!-- Victim Info Display -->
            <h6 class="section-title">üë§ Victim Information</h6>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "First Name", value: @match.bike.user.first_name } %>
              <%= render partial: 'reports/info_block', locals: { title: "Last Name", value: @match.bike.user.last_name } %>
            </div>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "Email", value: @match.bike.user.email } %>
              <%= render partial: 'reports/info_block', locals: { title: "Phone", value: @match.bike.user.phone_number } %>
            </div>

            <!-- Bike Info Display -->
            <h6 class="section-title">üö≤ Bicycle Details</h6>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "Brand", value: @match.bike.brand } %>
              <%= render partial: 'reports/info_block', locals: { title: "Frame Number", value: @match.bike.frame_number } %>
            </div>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "Model", value: @match.bike.model } %>
              <%= render partial: 'reports/info_block', locals: { title: "Color", value: @match.bike.color } %>
            </div>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "Location Lost", value: @match.bike.location_lost } %>
              <%= render partial: 'reports/info_block', locals: { title: "Stolen Date", value: @match.bike.stolen_date } %>
            </div>

            <!-- Match Info Display -->
            <h6 class="section-title">‚ö†Ô∏è Match information</h6>

            <div class="d-flex gap-3 mb-3">
              <%= render partial: 'reports/info_block', locals: { title: "Marketplace", value: @match.marketplace } %>
              <%= render partial: 'reports/info_block', locals: { title: "Seller", value: @match.seller } %>
            </div>

            <div class="d-flex gap-3 mb-4">
              <%= render partial: 'reports/info_block', locals: { title: "Sale Location", value: @match.location } %>
            </div>

            <!-- Submit -->
            <div class="modal-footer border-0">
              <%= f.button :submit, "Create Report", class: "btn btn-primary-custom" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </section>
</div>
